<!DOCTYPE HTML>
<!--
    Spectral by HTML5 UP
    html5up.net | @ajlkn
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
    <head>
        <title>Essence of Life</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <link rel="stylesheet" href="assets/css/main.css" />
        <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
    </head>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      var socket = io();
    </script>
    <body class="landing is-preload">

        <!-- Page Wrapper -->
            <div id="page-wrapper">

                <!-- Header -->
                    <header id="header" class="alt">
                        <h1><a href="index.html">Spectral</a></h1>
                        <nav id="nav">
                            <ul>
                                <li class="special">
                                    <a href="#menu" class="menuToggle"><span>Menu</span></a>
                                    <div id="menu">
                                        <ul>
                                            <li><a href="index.html">Home</a></li>
                                            <li><a href="generic.html">Generic</a></li>
                                            <li><a href="elements.html">Elements</a></li>
                                            <li><a href="#">Sign Up</a></li>
                                            <li><a href="#">Log In</a></li>
                                        </ul>
                                    </div>
                                </li>
                            </ul>
                        </nav>
                    </header>

                <!-- Banner -->
                    <section id="banner">
                        <div class="inner">
                            <h2>Some sort of project name</h2>
                            <p>A fine chance to<br />
                            find a much better slogan<br />
                            ---</p>
                            <ul class="actions special">
                                <li><button onclick="setExploreBtnDisable(true);getLocation()" class="button primary">My Location</button></li>
                                <li><button onclick="everything()" id="explore_button" class="button primary">Explore</button></li>
                                <li><a href="map.html" class="button primary">Map me</a></li>
                                <li><button onclick="openMapWithURI(latest_data)" class="button primary">Test</button></li>
                            </ul>
                        </div>
                        <a href="#one" class="more scrolly">Learn More</a>
                    </section>

                <!-- One -->
                    <section id="one" class="wrapper style1 special">
                        <div class="inner">
                            <header class="major">
                                <h2>Arcu aliquet vel lobortis ata nisl<br />
                                eget augue amet aliquet nisl cep donec</h2>
                                <p>Aliquam ut ex ut augue consectetur interdum. Donec amet imperdiet eleifend<br />
                                fringilla tincidunt. Nullam dui leo Aenean mi ligula, rhoncus ullamcorper.</p>
                            </header>
                            <ul class="icons major">
                                <li><span class="icon fa-diamond major style1"><span class="label">Lorem</span></span></li>
                                <li><span class="icon fa-heart-o major style2"><span class="label">Ipsum</span></span></li>
                                <li><span class="icon fa-code major style3" onclick="window.open('https://github.com/nLevin13/Shipbook').focus()"><span class="label">Dolor</span></span></li>
                            </ul>
                        </div>
                    </section>

                <!-- Two -->
                    <section id="two" class="wrapper alt style2">
                        <section class="spotlight">
                            <div class="image"><img src="images/pic01.jpg" alt="" /></div><div class="content">
                                <h2>Magna primis lobortis<br />
                                sed ullamcorper</h2>
                                <p>Aliquam ut ex ut augue consectetur interdum. Donec hendrerit imperdiet. Mauris eleifend fringilla nullam aenean mi ligula.</p>
                            </div>
                        </section>
                        <section class="spotlight">
                            <div class="image"><img src="images/pic02.jpg" alt="" /></div><div class="content">
                                <h2>Tortor dolore feugiat<br />
                                elementum magna</h2>
                                <p>Aliquam ut ex ut augue consectetur interdum. Donec hendrerit imperdiet. Mauris eleifend fringilla nullam aenean mi ligula.</p>
                            </div>
                        </section>
                        <section class="spotlight">
                            <div class="image"><img src="images/pic03.jpg" alt="" /></div><div class="content">
                                <h2>Augue eleifend aliquet<br />
                                sed condimentum</h2>
                                <p>Aliquam ut ex ut augue consectetur interdum. Donec hendrerit imperdiet. Mauris eleifend fringilla nullam aenean mi ligula.</p>
                            </div>
                        </section>
                    </section>

                <!-- Three -->
                    <section id="three" class="wrapper style3 special">
                        <div class="inner">
                            <header class="major">
                                <h2>Accumsan mus tortor nunc aliquet</h2>
                                <p>Aliquam ut ex ut augue consectetur interdum. Donec amet imperdiet eleifend<br />
                                fringilla tincidunt. Nullam dui leo Aenean mi ligula, rhoncus ullamcorper.</p>
                            </header>
                            <ul class="features">
                                <li class="icon fa-paper-plane-o">
                                    <h3>Arcu accumsan</h3>
                                    <p>Augue consectetur sed interdum imperdiet et ipsum. Mauris lorem tincidunt nullam amet leo Aenean ligula consequat consequat.</p>
                                </li>
                                <li class="icon fa-laptop">
                                    <h3>Ac Augue Eget</h3>
                                    <p>Augue consectetur sed interdum imperdiet et ipsum. Mauris lorem tincidunt nullam amet leo Aenean ligula consequat consequat.</p>
                                </li>
                                <li class="icon fa-code">
                                    <h3>Mus Scelerisque</h3>
                                    <p>Augue consectetur sed interdum imperdiet et ipsum. Mauris lorem tincidunt nullam amet leo Aenean ligula consequat consequat.</p>
                                </li>
                                <li class="icon fa-headphones">
                                    <h3>Mauris Imperdiet</h3>
                                    <p>Augue consectetur sed interdum imperdiet et ipsum. Mauris lorem tincidunt nullam amet leo Aenean ligula consequat consequat.</p>
                                </li>
                                <li class="icon fa-heart-o">
                                    <h3>Aenean Primis</h3>
                                    <p>Augue consectetur sed interdum imperdiet et ipsum. Mauris lorem tincidunt nullam amet leo Aenean ligula consequat consequat.</p>
                                </li>
                                <li class="icon fa-flag-o">
                                    <h3>Tortor Ut</h3>
                                    <p>Augue consectetur sed interdum imperdiet et ipsum. Mauris lorem tincidunt nullam amet leo Aenean ligula consequat consequat.</p>
                                </li>
                            </ul>
                        </div>
                    </section>

                <!-- CTA -->
                    <section id="cta" class="wrapper style4">
                        <div class="inner">
                            <header>
                                <h2>Arcue ut vel commodo</h2>
                                <p>Aliquam ut ex ut augue consectetur interdum endrerit imperdiet amet eleifend fringilla.</p>
                            </header>
                            <ul class="actions stacked">
                                <li><a href="#" class="button fit primary">Activate</a></li>
                                <li><a href="#" class="button fit">Learn More</a></li>
                            </ul>
                        </div>
                    </section>

                <!-- Footer -->
                    <footer id="footer">
                        <ul class="icons">
                            <li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
                            <li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
                            <li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
                            <li><a href="#" class="icon fa-dribbble"><span class="label">Dribbble</span></a></li>
                            <li><a href="#" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
                        </ul>
                        <ul class="copyright">
                            <li>&copy; Untitled</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
                        </ul>
                    </footer>

            </div>

        <!-- HTML Template Scripts -->
            <script src="assets/js/jquery.min.js"></script>
            <script src="assets/js/jquery.scrollex.min.js"></script>
            <script src="assets/js/jquery.scrolly.min.js"></script>
            <script src="assets/js/browser.min.js"></script>
            <script src="assets/js/breakpoints.min.js"></script>
            <script src="assets/js/util.js"></script>
            <script src="assets/js/main.js"></script>

        <!-- Our Scripts -->
            <script src="https://code.jquery.com/jquery.min.js"></script>
            <script>
            var coords = {
              lat: 0,
              lon: 0
            };
            var places = {};
            latest_data = '';
            function getLocation() {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(showPosition);
                } else { 
                    console.log("Geolocation is not supported by this browser.");
                }
            }

            function setCoords() {
              $.ajax({
                type:'post',
                url:'http://localhost:8001/server.py',
                cache:false,
                async:'asynchronous',
                data:coords,
                success: function(data) {
                  console.log("Mission passed: " + data)
                },
                error: function(request, status, error) {
                  console.log("Mission failed: " + error)
                }
              });
            }

            function runPython() {
              $.ajax({
                  type:'get',
                  url:'http://localhost:8001/server.py',
                  cache:false,
                  async:'asynchronous',
                  success: function(data) {
                    places = JSON.parse(data)
                    latest_data = data
                    console.log(places["0"]["name"])
                  },
                  error: function(request, status, error) {
                    console.log("Error: " + error)
                  }
               });
            }

            function showPosition(position) {
                coords.lat = position.coords.latitude;
                coords.lon = position.coords.longitude;
                console.log("Latitude: " + coords.lat + 
                "<br>Longitude: " + coords.lon + "\n");
                setExploreBtnDisable(false)
            }

            function everything() {
              setCoords();
              runPython();
            }

            function setExploreBtnDisable(bool) {
                document.getElementById("explore_button").disable = bool
            }

            function openMapWithURI(location_data) {
                data = {"origin": {"location": {"lat": coords.lat, "lng": coords.lon}}}
                if (location_data != null) {
                    location_data = JSON.parse(location_data)
                    for (var i = 0; i < Object.keys(location_data).length; i++) {
                        index = (i).toString();
                        data[index] = {"name": location_data[index]['name'], 
                                        "location": location_data[index]['geometry']['location'], 
                                        "inspiration": location_data[index]["inspiration"]}
                    }
                }
                window.open('map.html?data='+JSON.stringify(data), 'MapWindow');
            }
            </script>
    </body>
</html>
